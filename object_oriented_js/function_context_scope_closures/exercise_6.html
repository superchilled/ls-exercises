<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>LS Exercises - Object Oriented JavaScript | Function Context, Scope, and Closures</title>
  </head>
  <body>
    <h1>Object Oriented JavaScript | Function Context, Scope, and Closures</h1>
    <h2>Exercise 6: myFilter()</h2>
    <p>In this exercise we'll update the implement of our own myFilter by adding the functionality of accepting an optional thisArg just like the original Array.prototype.filter.</p>

    <p>Here's the original implementation we had, a sample call with a thisArg, and the expected return value.</p>

<p>
  <code>
function myFilter(array, func) { <br>
  var result = [];<br>
<br>
  array.forEach(function(value) {<br>
    if (func(value)) {<br>
      result.push(value);<br>
    }<br>
  });<br>
<br>
  return result;<br>
}<br>
<br>
var filter = {<br>
  allowedValues: [5, 6, 9],<br>
}<br>
<br>
var numbers = [2, 1, 3, 4, 5, 6, 9, 12];<br>
<br>
myFilter([2, 1, 3, 4, 5, 6, 9, 12], function(val) {<br>
  return this.allowedValues.indexOf(val) >= 0;<br>
}, filter); // returns [5, 6, 9]<br>
</code>
</p>

<p>Modify the original implementation such that the expected result is returend. Don't use the thisArg argument of Array.prototype.forEach.</p>
</p>
<script>
function myFilter(array, func, contextObj) {
  var result = [];

  array.forEach(function(value) {
    if (func.call(contextObj, value)) {
      result.push(value);
    }
  });

  return result;
}

var filter = {
  allowedValues: [5, 6, 9],
}

var numbers = [2, 1, 3, 4, 5, 6, 9, 12];

var result = myFilter([2, 1, 3, 4, 5, 6, 9, 12], function(val) {
  return this.allowedValues.indexOf(val) >= 0;
}, filter); // returns [5, 6, 9]
console.log(result);
</script>
  </body>
</html>
